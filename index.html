<!DOCTYPE html>
<html><head>  <meta charset="UTF-8">
        <title>students</title>
</head>
<body style='margin-left: 30px;'>

    <h1>Select A Major</h1>
    <input type="button" id='btn' value="CIT Majors">
<input type="button" id='btn2' value="BUS Majors">
             
 	<div id="result"> </div>

 	
    
<script>
   
    document.addEventListener('DOMContentLoaded', function() {      
													  
    	document.querySelector('#btn').onclick = function(){   
        	var request = new XMLHttpRequest();
        	request.open('GET', 'studentlist.json');

        	request.onload = function(){

            	var data = JSON.parse(request.responseText);
			
            	if (request.status == 200) {
            		var CITcontents = "<table cellspacing='5'><tr><td>Name</td><td>Major</td><td>Midterm</td><td>Final</td></tr>"
			citStudent = []	
            		for(i = 0; i < data.length; i++) 
				{
				if(data[i].major == "CIT")
					{
                     			CITcontents += "<tr><td>" + data[i].name + "</td><td>" + data[i].major + "</td><td>" + data[i].midterm + "</td><td>" + data[i].final + "</td></tr>";
					
                		}
			}		
                	CITcontents += "</table>";
			citStudent.push(CITcontents);
                	document.querySelector('#result').innerHTML = citStudent[];
            	}
            	else {
                	document.querySelector('#result').innerHTML = "There was an error.";
            	}
        }

        request.send(null);
    };
	
  });
   
</script>
   
   
</body>
</html>
